'use strict';Object.defineProperty(exports,'__esModule',{value:!0}),exports.checkFormattedNumber=exports.getSizeOfGroup=exports.getNumberOfRequiredDecimals=exports.getNumberOfDecimals=exports.replaceFormatWithNumber=exports.formatDecimalPart=exports.formatIntegerPart=exports.isValidFormatPattern=exports.CURRENCY_SYMBOL=void 0;var _krokusMath=require('./krokusMath'),CURRENCY_SYMBOL=exports.CURRENCY_SYMBOL='\xA4',DECIMAL_SEPARTOR='.',GROUP_SEPARTOR=',',ALLOWED_NUMBER_FORMAT_CHARS=',#0;',ALLOWED_GENERAL_FORMAT_CHARS=',#0;- '+CURRENCY_SYMBOL,isValidFormatPattern=exports.isValidFormatPattern=function(a){var b=a.trim(),c=b.indexOf(GROUP_SEPARTOR),d=b.indexOf(DECIMAL_SEPARTOR);if(0<=d&&d<c)return!1;var e=b.indexOf(CURRENCY_SYMBOL);return(0===e||-1===e||e===b.length-1)&&(b=b.replace(/\./g,'').trim(),b=replaceChars(b,ALLOWED_GENERAL_FORMAT_CHARS),0===b.length||b===CURRENCY_SYMBOL)},formatIntegerPart=exports.formatIntegerPart=function(a,b,c){for(var d=a+'',e=getSizeOfGroup(b),f=d.length,g=f-e;0<g;)d=d.substr(0,g)+c+d.substr(g),g-=e;return d},formatDecimalPart=exports.formatDecimalPart=function(a,b,c,d,e){if(0===b&&0===d)return'';if(0===b)return e+Array(d+1).join('0');if(0<d||0<c){var f=(0,_krokusMath.countNumberOfDecimals)(a),g=(b+'').substr(2),h=addZerosIfNeeded(d,Math.min(f,c),g);return e+h}return''},replaceChars=function(a,b){for(var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:'',d=0;d<b.length;d++)a=a.replace(new RegExp(b[d],'g'),c).trim();return a},addZerosIfNeeded=function(a,b,c){var d=a-c.length;return 0>=d?c.substr(0,b):c+Array(d+1).join('0')},replaceFormatWithNumber=exports.replaceFormatWithNumber=function(a,b){return a=a.replace(/\./g,'@').trim(),a=replaceChars(a,ALLOWED_NUMBER_FORMAT_CHARS,'@'),a=a.replace('@',b),a.split('@').join('')},getNumberOfDecimals=exports.getNumberOfDecimals=function(a){var b=a.indexOf(DECIMAL_SEPARTOR);if(0>b)return 0;var c=a.indexOf(' ',b),d=a.indexOf('\xA0',b);return 0<=c?a=a.substr(0,c):0<=d&&(a=a.substr(0,d)),a.length-b-1},getNumberOfRequiredDecimals=exports.getNumberOfRequiredDecimals=function(a){var b=getNumberOfDecimals(a);if(0===b)return 0;var c=a.indexOf(DECIMAL_SEPARTOR),d=a.substr(c+1,c+b),e=d.indexOf('#');return-1===e?b:e},getSizeOfGroup=exports.getSizeOfGroup=function(a){var b=a.indexOf(GROUP_SEPARTOR),c=a.indexOf(DECIMAL_SEPARTOR);return 0>c?a.length-b-1:c-b-1},checkFormattedNumber=exports.checkFormattedNumber=function(a,b,c){if('string'!=typeof a)return!1;var d=a.replace(new RegExp('['+b+c+'-\\d]','g'),'');if(0<d.length)return!1;var e=a.split(b);return 2===e.length||1===e.length};