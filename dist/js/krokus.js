'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _krokusFormat=require('./krokusFormat'),_krokusMath=require('./krokusMath'),formatNumber=function(a,b){var c=b.pattern;if(!(0,_krokusFormat.isValidFormatPattern)(c))throw'Given format is wrong: '+b.pattern;if('number'!=typeof a)return a;var d=(0,_krokusFormat.getNumberOfDecimals)(c),e=(0,_krokusFormat.getNumberOfRequiredDecimals)(c),f=(0,_krokusMath.round)(a,d),g=(0,_krokusMath.trunc)(a),h=(0,_krokusMath.getDecimalPart)(f),i=(0,_krokusFormat.formatIntegerPart)(g,c,b.group_sep);if(0===h&&0===e)return i;var j=(0,_krokusFormat.formatDecimalPart)(a,h,d,e,b.decimal_sep);return i+j},formatCurrency=function(a,b){if(!(0,_krokusFormat.isValidFormatPattern)(b.pattern))throw'Given format is wrong: '+b.pattern;if('number'!=typeof a)return a;var c=formatNumber(a,b),d=(0,_krokusFormat.replaceFormatWithNumber)(b.pattern,c);return d.replace(_krokusFormat.CURRENCY_SYMBOL,b.symbol)},parseNumber=function(a,b){if(!(0,_krokusFormat.isValidFormatPattern)(b.pattern))throw'Given format is wrong: '+b.pattern;if(!(0,_krokusFormat.checkFormattedNumber)(a,b.decimal_sep,b.group_sep))throw'Given formatted number is wrong: '+a;var c=b.decimal_sep;if(a.charAt(a.length-1)===c)return parseFloat(a);var d=a.split(c);if(2!==d.length&&1!==d.length)return!1;var e=b.group_sep,f=d[0].split(e).join(''),g=d[1]?d[1]:'';return parseFloat(f+'.'+g)},parseCurrency=function(a,b){if(!(0,_krokusFormat.isValidFormatPattern)(b.pattern))throw'Given format is wrong: '+b.pattern;var c=a.replace(b.symbol,'').trim();return parseNumber(c,b)},krokus={formatNumber:formatNumber,formatCurrency:formatCurrency,parseNumber:parseNumber,parseCurrency:parseCurrency};exports.default=krokus;